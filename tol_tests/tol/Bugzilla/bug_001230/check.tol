
Set example = { Include("ErrorEnAIA2.oza") };

//Set outliers = [[ PulseOut, StepOut, TrendOut ]];
Set outliers = [[ PulseOut ]];
Set ShowAia(Set aia)
{
  WriteLn("\n"+Name(aia)+" has "<<Card(aia)+" outliers : ");
  Set View(aia,"Std");
  WriteLn("");
  aia
};

Set aia.1 = ShowAia(AIA(example::serie,example::piw,outliers, 2)); 
Set aia.2 = ShowAia(AIA(example::serie,example::piw,outliers, 3, 100)); 
Set aia.3 = ShowAia(AIA(example::serie,example::piw,outliers, 1)); 
Set aia.4 = ShowAia(AIA(example::serie,example::piw,outliers, 5, 100, 0.99)); 

//Reconstruyo la serie original para echarle un vistazo
Ratio psiw = (1/1) : example::piw;
Serie original = DifEq(psiw, example::serie);

Serie SumEffect(Set aia)
{
  SetSum(EvalSet(aia, Serie(InputDef inp)
  {
    inp->Omega : inp->X
  }))
};
Serie filter.1 = SumEffect(aia.1);
Serie filter.2 = SumEffect(aia.2);
Serie filter.3 = SumEffect(aia.3);
Serie filter.4 = SumEffect(aia.4);


/* */
