Matrix L = Diag(3, 2);

Real nSol = 4;

Matrix Br = Rand(Rows(L), nSol, 0, 1);
Matrix Bc = Tra(Br);

Set checkAll = Copy(Empty);

Real AppendCheck(Matrix X, Matrix B, Text name)
{
  Matrix ratio =  X$/B;
  Real check0 = And(EQ(MatMin(ratio),0.5), EQ(MatMax(ratio),0.5));
  Real check = If(IsUnknown(check0),0,check0);
  Set Append(checkAll, [[PutName(name, check)]]);
  Real 1
};

// Matrix TrSolve (Matrix T, Matrix B [, Real left=1, Real trans=0, Real lower=1])
// L*X=B
Matrix X_LXB = TrSolve(L, Br, 1, 0, 1);
Real AppendCheck(X_LXB, Br, "LXB");

// L'*X=B
Matrix X_LtXB = TrSolve(L, Br, 1, 1, 1);
Real AppendCheck(X_LtXB, Br, "LtXB");

// X*L=B
Matrix X_XLB = TrSolve(L, Bc, 0, 0, 1);
Real AppendCheck(X_XLB, Bc, "XLB");

// X*L'=B
Matrix X_XLtB = TrSolve(L, Bc, 0, 1, 1);
Real AppendCheck(X_XLtB, Bc, "XLtB");

// U*X=B
Matrix X_UXB = TrSolve(L, Br, 1, 0, 0);
Real AppendCheck(X_UXB, Br, "UXB");

// U'*X=B
Matrix X_UtXB = TrSolve(L, Br, 1, 1, 0);
Real AppendCheck(X_UtXB, Br, "UtXB");

// X*U=B
Matrix X_XUB = TrSolve(L, Bc, 0, 0, 0);
Real AppendCheck(X_XUB, Bc, "XUB");

// X*U'=B
Matrix X_XUtB = TrSolve(L, Bc, 0, 1, 0);
Real AppendCheck(X_XUtB, Bc, "XUtB");

Set View(checkAll, "");
