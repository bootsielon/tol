//////////////////////////////////////////////////////////////////////////////
// FILE    :timeset.tol
// PURPOSE : Funciones de timeset
//////////////////////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////////////////////////
  TimeSet LDM(Real month)
//////////////////////////////////////////////////////////////////////////////
{
  Real nextMonth = 1 + (month%12);
  Succ(M(nextMonth)*D(1),-1)
};
//////////////////////////////////////////////////////////////////////////////
Code PutDescription(I2(
"The last day of the n-th month of any year",
"El ultimo día del mes n-ésimo de cualquier año (Last Day of Month)"),
LDM);
//////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////
TimeSet MinComunFechado(Set ser)
// Obtienes el minimo comun fechado para un conjunto de series
//////////////////////////////////////////////////////////////////////////////

{
  Set tms = For(1,Card(ser),TimeSet(Real x)
  {
   SerTmsUsu(ser[x])
  });
   BinGroup("+",tms) 
};

//////////////////////////////////////////////////////////////////////////////
TimeSet FullWeeks(TimeSet ts){
//////////////////////////////////////////////////////////////////////////////
  Range(Range(ts, -6, 0)*WD(1), 0, 6)
};
//////////////////////////////////////////////////////////////////////////////
PutDescription("
Devuelve el TimeSet que completa en semanas enteras a partir del 'ts'
", FullWeeks);
//////////////////////////////////////////////////////////////////////////////

