/* -*- mode: C++ -*- */
//////////////////////////////////////////////////////////////////////////////
// FILE   : module.tol
// PURPOSE: Defines Class @Module
//////////////////////////////////////////////////////////////////////////////

Text _.autodoc.member.Module = "Handler for Cint modules. Loads a .cpp or .c "
"file and unloads it when instance is destroyed.";

//////////////////////////////////////////////////////////////////////////////
Class @Module 
//////////////////////////////////////////////////////////////////////////////
{
  Text _.path = "";
  Real _.result = ?;

  Static @Module Load(Text path)
  {
    @Module new = [[
      Text _.path = path;
      Real _.result = Cint.loadfile(_.path)
    ]]
  };
  Real __destroy (Real void) 
  {
    If(_.path!="", Cint.unloadfile(_.path))
  } 

};

